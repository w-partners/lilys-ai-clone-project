"use strict";(self.webpackChunklilys_ai_clone_frontend=self.webpackChunklilys_ai_clone_frontend||[]).push([[66],{9066:(e,r,o)=>{o.r(r),o.d(r,{default:()=>k});var s=o(5043),t=o(3216),n=o(5475),a=o(9252),i=o(6446),l=o(3336),d=o(5865),c=o(4194),u=o(5795),p=o(1787),m=o(7392),h=o(1906),x=o(1637),g=o(8446),A=o(1007),b=o(9974),v=o(3632),j=o(3559),y=o(5016),w=o(4858),f=o(3768),P=o(579);const k=()=>{var e,r,o,k;const[I,S]=(0,s.useState)(!1),[_,q]=(0,s.useState)(!1),{login:C}=(0,y.A)(),W=(0,t.Zp)(),N=(null===(e=(0,t.zy)().state)||void 0===e||null===(r=e.from)||void 0===r?void 0:r.pathname)||"/dashboard",{register:F,handleSubmit:L,formState:{errors:T},setError:z}=(0,w.mN)({defaultValues:{phone:"",password:""}});return(0,P.jsx)(a.A,{component:"main",maxWidth:"xs",children:(0,P.jsx)(i.A,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:(0,P.jsxs)(l.A,{elevation:3,sx:{p:4,width:"100%"},children:[(0,P.jsxs)(i.A,{sx:{textAlign:"center",mb:3},children:[(0,P.jsx)(d.A,{component:"h1",variant:"h4",gutterBottom:!0,children:"Welcome Back"}),(0,P.jsx)(d.A,{variant:"body2",color:"text.secondary",children:"Sign in to your Lilys AI account"})]}),T.root&&(0,P.jsx)(c.A,{severity:"error",sx:{mb:2},children:T.root.message}),(0,P.jsxs)(i.A,{component:"form",onSubmit:L(async e=>{q(!0);try{const r=await C(e.phone,e.password);r.success?(f.Ay.success("Welcome back!"),setTimeout(()=>{W(N,{replace:!0})},100)):r.error&&r.error.includes("Invalid")?z("root",{message:"Invalid phone number or password"}):r.error&&r.error.includes("deactivated")?z("root",{message:"Your account has been deactivated"}):z("root",{message:r.error||"Failed to login. Please try again."})}catch(r){console.error("Login error:",r),z("root",{message:"An unexpected error occurred. Please try again."})}finally{q(!1)}}),noValidate:!0,children:[(0,P.jsx)(u.A,{margin:"normal",required:!0,fullWidth:!0,id:"phone",label:"Phone Number",autoComplete:"tel",autoFocus:!0,placeholder:"01012345678",type:"tel",inputProps:{inputMode:"numeric",pattern:"[0-9]*"},InputProps:{startAdornment:(0,P.jsx)(p.A,{position:"start",children:(0,P.jsx)(b.A,{color:"action"})})},error:!!T.phone,helperText:null===(o=T.phone)||void 0===o?void 0:o.message,...F("phone",{required:"Phone number is required",pattern:{value:/^01[0-9]{8,9}$/,message:"Invalid phone number format (e.g., 01012345678)"}})}),(0,P.jsx)(u.A,{margin:"normal",required:!0,fullWidth:!0,label:"Password",type:I?"text":"password",id:"password",autoComplete:"current-password",InputProps:{startAdornment:(0,P.jsx)(p.A,{position:"start",children:(0,P.jsx)(A.A,{color:"action"})}),endAdornment:(0,P.jsx)(p.A,{position:"end",children:(0,P.jsx)(m.A,{"aria-label":"toggle password visibility",onClick:()=>S(!I),edge:"end",children:I?(0,P.jsx)(j.A,{}):(0,P.jsx)(v.A,{})})})},error:!!T.password,helperText:null===(k=T.password)||void 0===k?void 0:k.message,...F("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),(0,P.jsx)(h.A,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:_,children:_?(0,P.jsx)(x.A,{size:24,color:"inherit"}):"Sign In"}),(0,P.jsxs)(i.A,{sx:{mt:2,textAlign:"center"},children:[(0,P.jsx)(g.A,{component:n.N_,to:"/forgot-password",variant:"body2",sx:{display:"block",mb:1},children:"Forgot password?"}),(0,P.jsxs)(d.A,{variant:"body2",color:"text.secondary",children:["Don't have an account?"," ",(0,P.jsx)(g.A,{component:n.N_,to:"/register",variant:"body2",children:"Sign up"})]})]})]})]})})})}}}]);
//# sourceMappingURL=66.d6dcbc02.chunk.js.map