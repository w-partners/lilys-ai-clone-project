"use strict";(self.webpackChunklilys_ai_clone_frontend=self.webpackChunklilys_ai_clone_frontend||[]).push([[518],{416:(e,s,l)=>{l.d(s,{A:()=>i});var a=l(9662),r=l(579);const i=(0,a.A)((0,r.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link")},6518:(e,s,l)=>{l.r(s),l.d(s,{default:()=>V});var a=l(5043),r=l(6446),i=l(5865),t=l(1906),n=l(3336),c=l(5795),d=l(1787),o=l(3193),x=l(8356),h=l(9285),A=l(2143),u=l(8483),j=l(7392),m=l(1637),p=l(9650),y=l(1806),v=l(4882),g=l(8076),f=l(2420),S=l(3460),w=l(3845),C=l(9090),z=l(9662),P=l(579);const b=(0,z.A)((0,P.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");var k=l(416),W=l(9484),F=l(7805),I=l(3632),M=l(7968),H=l(6625),_=l(3216),D=l(9621),T=l(7842),U=l(3768);const V=()=>{const[e,s]=(0,a.useState)([]),[l,z]=(0,a.useState)(!0),[V,R]=(0,a.useState)(0),[L,N]=(0,a.useState)(10),[B,O]=(0,a.useState)(0),[$,E]=(0,a.useState)(""),[G,Z]=(0,a.useState)(""),[q,J]=(0,a.useState)(""),[K,Q]=(0,a.useState)(""),X=(0,_.Zp)(),Y=async()=>{try{z(!0);const e={page:V+1,limit:L};G&&(e.status=G),q&&(e.provider=q),K&&(e.sourceType=K);const l=await D.Ay.get("/api/summaries",{params:e});s(l.data.data.summaries||[]),O(l.data.data.totalCount||0)}catch(e){console.error("Failed to fetch summaries:",e),U.Ay.error("Failed to load summaries")}finally{z(!1)}};(0,a.useEffect)(()=>{Y()},[V,L,G,q,K]);const ee=e=>{X(`/summary/${e}`)},se=e=>{switch(e){case"completed":return"success";case"processing":return"warning";case"failed":return"error";default:return"default"}};return(0,P.jsxs)(r.A,{children:[(0,P.jsxs)(r.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,P.jsxs)(r.A,{children:[(0,P.jsx)(i.A,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"Summary History"}),(0,P.jsx)(i.A,{variant:"body1",color:"text.secondary",children:"View and manage all your AI-generated summaries"})]}),(0,P.jsx)(t.A,{variant:"contained",startIcon:(0,P.jsx)(b,{}),onClick:()=>X("/upload"),children:"New Upload"})]}),(0,P.jsxs)(n.A,{sx:{p:3},children:[(0,P.jsxs)(r.A,{sx:{display:"flex",gap:2,mb:3,flexWrap:"wrap"},children:[(0,P.jsx)(c.A,{placeholder:"Search summaries...",value:$,onChange:e=>E(e.target.value),size:"small",sx:{flex:1,minWidth:250},InputProps:{startAdornment:(0,P.jsx)(d.A,{position:"start",children:(0,P.jsx)(W.A,{})})}}),(0,P.jsxs)(o.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Status"}),(0,P.jsxs)(h.A,{value:G,label:"Status",onChange:e=>Z(e.target.value),children:[(0,P.jsx)(A.A,{value:"",children:"All"}),(0,P.jsx)(A.A,{value:"completed",children:"Completed"}),(0,P.jsx)(A.A,{value:"processing",children:"Processing"}),(0,P.jsx)(A.A,{value:"failed",children:"Failed"})]})]}),(0,P.jsxs)(o.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Provider"}),(0,P.jsxs)(h.A,{value:q,label:"Provider",onChange:e=>J(e.target.value),children:[(0,P.jsx)(A.A,{value:"",children:"All"}),(0,P.jsx)(A.A,{value:"gemini",children:"Gemini"}),(0,P.jsx)(A.A,{value:"openai",children:"OpenAI"})]})]}),(0,P.jsxs)(o.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Source"}),(0,P.jsxs)(h.A,{value:K,label:"Source",onChange:e=>Q(e.target.value),children:[(0,P.jsx)(A.A,{value:"",children:"All"}),(0,P.jsx)(A.A,{value:"file",children:"File"}),(0,P.jsx)(A.A,{value:"url",children:"URL"})]})]}),(0,P.jsx)(u.A,{title:"Refresh",children:(0,P.jsx)(j.A,{onClick:Y,children:(0,P.jsx)(F.A,{})})})]}),l?(0,P.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,P.jsx)(m.A,{})}):e.length>0?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(p.A,{children:(0,P.jsxs)(y.A,{children:[(0,P.jsx)(v.A,{children:(0,P.jsxs)(g.A,{children:[(0,P.jsx)(f.A,{children:"Title"}),(0,P.jsx)(f.A,{children:"Source"}),(0,P.jsx)(f.A,{children:"Provider"}),(0,P.jsx)(f.A,{children:"Status"}),(0,P.jsx)(f.A,{children:"Words"}),(0,P.jsx)(f.A,{children:"Created"}),(0,P.jsx)(f.A,{children:"Actions"})]})}),(0,P.jsx)(S.A,{children:e.map(e=>{return(0,P.jsxs)(g.A,{hover:!0,sx:{cursor:"pointer"},onClick:()=>ee(e.id),children:[(0,P.jsx)(f.A,{children:(0,P.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(s=e.sourceType,"file"===s?(0,P.jsx)(b,{fontSize:"small"}):(0,P.jsx)(k.A,{fontSize:"small"})),(0,P.jsx)(i.A,{variant:"body2",noWrap:!0,sx:{maxWidth:300},children:e.title})]})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(i.A,{variant:"caption",children:"file"===e.sourceType?e.fileName:"URL"})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(w.A,{label:e.aiProvider,size:"small",variant:"outlined",color:"primary"})}),(0,P.jsx)(f.A,{children:(0,P.jsx)(w.A,{label:e.status,size:"small",color:se(e.status)})}),(0,P.jsx)(f.A,{children:e.wordCount||"-"}),(0,P.jsx)(f.A,{children:(0,P.jsx)(i.A,{variant:"caption",children:(0,T.A)(new Date(e.createdAt),"MMM d, yyyy")})}),(0,P.jsx)(f.A,{children:(0,P.jsxs)(r.A,{sx:{display:"flex",gap:1},children:[(0,P.jsx)(u.A,{title:"View",children:(0,P.jsx)(j.A,{size:"small",onClick:s=>{s.stopPropagation(),ee(e.id)},children:(0,P.jsx)(I.A,{fontSize:"small"})})}),(0,P.jsx)(u.A,{title:"Download",children:(0,P.jsx)(j.A,{size:"small",onClick:e=>{e.stopPropagation(),U.Ay.info("Download feature coming soon!")},children:(0,P.jsx)(M.A,{fontSize:"small"})})}),(0,P.jsx)(u.A,{title:"Delete",children:(0,P.jsx)(j.A,{size:"small",onClick:s=>{s.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this summary?"))try{await D.Ay.delete(`/api/summaries/${e}`),U.Ay.success("Summary deleted successfully"),Y()}catch(s){U.Ay.error("Failed to delete summary")}})(e.id)},children:(0,P.jsx)(H.A,{fontSize:"small"})})})]})})]},e.id);var s})})]})}),(0,P.jsx)(C.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:B,rowsPerPage:L,page:V,onPageChange:(e,s)=>{R(s)},onRowsPerPageChange:e=>{N(parseInt(e.target.value,10)),R(0)}})]}):(0,P.jsxs)(r.A,{sx:{textAlign:"center",py:8},children:[(0,P.jsx)(i.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No summaries found"}),(0,P.jsx)(i.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:G||q||K?"Try adjusting your filters":"Upload your first file to get started"}),(0,P.jsx)(t.A,{variant:"contained",startIcon:(0,P.jsx)(b,{}),onClick:()=>X("/upload"),sx:{mt:2},children:"Upload File"})]})]})]})}}}]);
//# sourceMappingURL=518.6fd24f43.chunk.js.map