"use strict";(self.webpackChunklilys_ai_clone_frontend=self.webpackChunklilys_ai_clone_frontend||[]).push([[489],{6489:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Z});var o=r(5043),s=r(9252),a=r(6446),i=r(5865),n=r(4194),l=r(8903),c=r(2110),d=r(6494),p=r(3845),m=r(9336),h=r(7600),u=r(1906),A=r(7392),v=r(8587),x=r(8168),g=r(8387),y=r(8610),b=r(6236),f=r(6803),j=r(8206),w=r(2532),C=r(2372);function z(e){return(0,C.Ay)("MuiFab",e)}const S=(0,w.A)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]);var k=r(4535),M=r(1475),I=r(579);const R=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],N=(0,k.Ay)(b.A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>(0,M.A)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`size${(0,f.A)(r.size)}`],"inherit"===r.color&&t.colorInherit,t[(0,f.A)(r.size)],t[r.color]]}})(e=>{let{theme:t,ownerState:r}=e;var o,s;return(0,x.A)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(o=(s=t.palette).getContrastText)?void 0:o.call(s,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${S.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},"small"===r.size&&{width:40,height:40},"medium"===r.size&&{width:48,height:48},"extended"===r.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===r.variant&&"small"===r.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===r.variant&&"medium"===r.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===r.color&&{color:"inherit"})},e=>{let{theme:t,ownerState:r}=e;return(0,x.A)({},"inherit"!==r.color&&"default"!==r.color&&null!=(t.vars||t).palette[r.color]&&{color:(t.vars||t).palette[r.color].contrastText,backgroundColor:(t.vars||t).palette[r.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[r.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[r.color].main}}})},e=>{let{theme:t}=e;return{[`&.${S.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),F=o.forwardRef(function(e,t){const r=(0,j.b)({props:e,name:"MuiFab"}),{children:o,className:s,color:a="default",component:i="button",disabled:n=!1,disableFocusRipple:l=!1,focusVisibleClassName:c,size:d="large",variant:p="circular"}=r,m=(0,v.A)(r,R),h=(0,x.A)({},r,{color:a,component:i,disabled:n,disableFocusRipple:l,size:d,variant:p}),u=(e=>{const{color:t,variant:r,classes:o,size:s}=e,a={root:["root",r,`size${(0,f.A)(s)}`,"inherit"===t?"colorInherit":t]},i=(0,y.A)(a,z,o);return(0,x.A)({},o,i)})(h);return(0,I.jsx)(N,(0,x.A)({className:(0,g.A)(u.root,s),component:i,disabled:n,focusRipple:!l,focusVisibleClassName:(0,g.A)(u.focusVisible,c),ownerState:h,ref:t},m,{classes:u,children:o}))});var P=r(35),V=r(6600),W=r(5316),H=r(5795),E=r(9347),$=r(2069),T=r(9662);const D=(0,T.A)((0,I.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");var _=r(6625);const L=(0,T.A)((0,I.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),q=(0,T.A)((0,I.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),O=(0,T.A)((0,I.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");var B=r(5016),G=r(3216),U=r(9621),Y=r(3768);function Z(){const{user:e}=(0,B.A)(),t=(0,G.Zp)(),[r,v]=(0,o.useState)([]),[x,g]=(0,o.useState)(!0),[y,b]=(0,o.useState)(!1),[f,j]=(0,o.useState)(!1),[w,C]=(0,o.useState)({name:"",description:"",prompt:"",isActive:!0,order:0});(0,o.useEffect)(()=>{if(!e||"admin"!==e.role)return t("/"),void Y.Ay.error("Admin access required");z()},[e,t]);const z=async()=>{try{g(!0);const e=await U.Ay.get("/prompts");v(e.data.data||[])}catch(e){console.error("Error fetching prompts:",e),Y.Ay.error("Failed to load system prompts")}finally{g(!1)}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(C(e),j(!0)):(C({name:"",description:"",prompt:"",isActive:!0,order:r.length}),j(!1)),b(!0)},k=()=>{b(!1),C({name:"",description:"",prompt:"",isActive:!0,order:0}),j(!1)};return x?(0,I.jsx)(s.A,{children:(0,I.jsx)(a.A,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh",children:(0,I.jsx)(i.A,{children:"Loading system prompts..."})})}):(0,I.jsxs)(s.A,{maxWidth:"lg",children:[(0,I.jsxs)(a.A,{mb:4,children:[(0,I.jsxs)(i.A,{variant:"h4",component:"h1",gutterBottom:!0,children:[(0,I.jsx)($.A,{sx:{mr:1,verticalAlign:"middle"}}),"System Prompts Management"]}),(0,I.jsx)(i.A,{variant:"body1",color:"text.secondary",children:"Configure up to 6 different AI system prompts for content summarization"})]}),0===r.length&&(0,I.jsx)(n.A,{severity:"info",sx:{mb:3},children:"No system prompts configured yet. Create your first prompt to get started."}),(0,I.jsx)(l.Ay,{container:!0,spacing:3,children:r.map((e,t)=>(0,I.jsx)(l.Ay,{item:!0,xs:12,md:6,lg:4,children:(0,I.jsxs)(c.A,{sx:{height:"100%",display:"flex",flexDirection:"column",opacity:e.isActive?1:.6},children:[(0,I.jsxs)(d.A,{sx:{flexGrow:1},children:[(0,I.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:1,children:[(0,I.jsx)(i.A,{variant:"h6",component:"h2",children:e.name}),(0,I.jsx)(p.A,{label:`#${t+1}`,size:"small",color:"primary",variant:"outlined"})]}),(0,I.jsx)(i.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:e.description||"No description provided"}),(0,I.jsx)(m.A,{sx:{my:1}}),(0,I.jsxs)(i.A,{variant:"body2",sx:{fontFamily:"monospace",bgcolor:"grey.100",p:1,borderRadius:1,maxHeight:150,overflow:"auto"},children:[e.prompt.substring(0,200),e.prompt.length>200&&"..."]}),(0,I.jsx)(a.A,{mt:2,children:(0,I.jsx)(p.A,{label:e.isActive?"Active":"Inactive",size:"small",color:e.isActive?"success":"default"})})]}),(0,I.jsxs)(h.A,{children:[(0,I.jsx)(u.A,{size:"small",startIcon:(0,I.jsx)(D,{}),onClick:()=>S(e),children:"Edit"}),(0,I.jsx)(u.A,{size:"small",color:e.isActive?"warning":"success",onClick:()=>(async e=>{try{await U.Ay.put(`/prompts/${e.id}`,{...e,isActive:!e.isActive}),Y.Ay.success("Prompt "+(e.isActive?"deactivated":"activated")),z()}catch(t){console.error("Error toggling prompt:",t),Y.Ay.error("Failed to update prompt status")}})(e),children:e.isActive?"Deactivate":"Activate"}),(0,I.jsx)(A.A,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this prompt?"))try{await U.Ay.delete(`/prompts/${e}`),Y.Ay.success("Prompt deleted successfully"),z()}catch(t){console.error("Error deleting prompt:",t),Y.Ay.error("Failed to delete prompt")}})(e.id),children:(0,I.jsx)(_.A,{})})]})]})},e.id))}),r.length<6&&(0,I.jsx)(F,{color:"primary","aria-label":"add",sx:{position:"fixed",bottom:24,right:24},onClick:()=>S(),children:(0,I.jsx)(L,{})}),(0,I.jsxs)(P.A,{open:y,onClose:k,maxWidth:"md",fullWidth:!0,children:[(0,I.jsx)(V.A,{children:f?"Edit System Prompt":"Create New System Prompt"}),(0,I.jsx)(W.A,{children:(0,I.jsxs)(a.A,{sx:{pt:2},children:[(0,I.jsx)(H.A,{fullWidth:!0,label:"Prompt Name",value:w.name,onChange:e=>C({...w,name:e.target.value}),margin:"normal",required:!0,helperText:"A short, descriptive name for this prompt"}),(0,I.jsx)(H.A,{fullWidth:!0,label:"Description",value:w.description,onChange:e=>C({...w,description:e.target.value}),margin:"normal",multiline:!0,rows:2,helperText:"Optional description of what this prompt does"}),(0,I.jsx)(H.A,{fullWidth:!0,label:"System Prompt",value:w.prompt,onChange:e=>C({...w,prompt:e.target.value}),margin:"normal",multiline:!0,rows:8,required:!0,helperText:"The actual prompt that will be sent to the AI",placeholder:"You are a helpful assistant that summarizes content..."}),(0,I.jsx)(H.A,{fullWidth:!0,label:"Display Order",type:"number",value:w.order,onChange:e=>C({...w,order:parseInt(e.target.value)||0}),margin:"normal",InputProps:{inputProps:{min:0,max:5}},helperText:"Order in which this prompt appears (0-5)"})]})}),(0,I.jsxs)(E.A,{children:[(0,I.jsx)(u.A,{onClick:k,startIcon:(0,I.jsx)(q,{}),children:"Cancel"}),(0,I.jsx)(u.A,{onClick:async()=>{try{if(!w.name||!w.prompt)return void Y.Ay.error("Name and prompt content are required");if(!f&&r.length>=6)return void Y.Ay.error("Maximum 6 system prompts allowed");f?(await U.Ay.put(`/prompts/${w.id}`,w),Y.Ay.success("Prompt updated successfully")):(await U.Ay.post("/prompts",w),Y.Ay.success("Prompt created successfully")),k(),z()}catch(e){console.error("Error saving prompt:",e),Y.Ay.error("Failed to save prompt")}},variant:"contained",startIcon:(0,I.jsx)(O,{}),children:f?"Update":"Create"})]})]})]})}},6625:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(9662),s=r(579);const a=(0,o.A)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},7600:(e,t,r)=>{r.d(t,{A:()=>v});var o=r(8587),s=r(8168),a=r(5043),i=r(8387),n=r(8610),l=r(4535),c=r(8206),d=r(2532),p=r(2372);function m(e){return(0,p.Ay)("MuiCardActions",e)}(0,d.A)("MuiCardActions",["root","spacing"]);var h=r(579);const u=["disableSpacing","className"],A=(0,l.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),v=a.forwardRef(function(e,t){const r=(0,c.b)({props:e,name:"MuiCardActions"}),{disableSpacing:a=!1,className:l}=r,d=(0,o.A)(r,u),p=(0,s.A)({},r,{disableSpacing:a}),v=(e=>{const{classes:t,disableSpacing:r}=e,o={root:["root",!r&&"spacing"]};return(0,n.A)(o,m,t)})(p);return(0,h.jsx)(A,(0,s.A)({className:(0,i.A)(v.root,l),ownerState:p,ref:t},d))})}}]);
//# sourceMappingURL=489.b4f215ae.chunk.js.map