"use strict";(self.webpackChunklilys_ai_clone_frontend=self.webpackChunklilys_ai_clone_frontend||[]).push([[518],{416:(e,s,r)=>{r.d(s,{A:()=>a});var l=r(9662),t=r(579);const a=(0,l.A)((0,t.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link")},5835:(e,s,r)=>{r.d(s,{A:()=>a});r(5043);var l=r(9662),t=r(579);const a=(0,l.A)((0,t.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube")},6518:(e,s,r)=>{r.r(s),r.d(s,{default:()=>V});var l=r(5043),t=r(6446),a=r(5865),i=r(1906),n=r(3336),o=r(5795),c=r(1787),d=r(3193),x=r(8356),u=r(9285),h=r(2143),A=r(8483),j=r(7392),p=r(1637),m=r(9650),v=r(1806),f=r(4882),g=r(8076),y=r(2420),b=r(3460),S=r(3845),C=r(9090),w=r(5835),z=r(9662),P=r(579);const k=(0,z.A)((0,P.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}),"FileDownload");var I=r(416),T=r(9484),W=r(7805),L=r(3632),M=r(7968),F=r(6625),Y=r(3216),_=r(4505),D=r(7842),H=r(3768),R=r(1657);const V=()=>{const[e,s]=(0,l.useState)([]),[r,z]=(0,l.useState)(!0),[V,B]=(0,l.useState)(0),[E,O]=(0,l.useState)(10),[U,$]=(0,l.useState)(0),[G,N]=(0,l.useState)(""),[Z,q]=(0,l.useState)(""),[J,K]=(0,l.useState)(""),[Q,X]=(0,l.useState)(""),ee=(0,Y.Zp)(),{socket:se}=(0,R.h)(),re=async()=>{try{var e,r;z(!0);const l={page:V+1,limit:E};Z&&(l.status=Z),J&&(l.provider=J),Q&&(l.sourceType=Q);const t=await _.Ay.get("/summaries",{params:l}),a=((null===(e=t.data.data)||void 0===e?void 0:e.summaries)||t.data.summaries||[]).map(e=>{var s,r;return{...e,status:(null===(s=e.job)||void 0===s?void 0:s.status)||"completed",progress:(null===(r=e.job)||void 0===r?void 0:r.progress)||100}});s(a),$((null===(r=t.data.data)||void 0===r?void 0:r.totalCount)||t.data.totalCount||0)}catch(l){console.error("Failed to fetch summaries:",l),H.Ay.error("Failed to load summaries")}finally{z(!1)}};(0,l.useEffect)(()=>{re()},[V,E,Z,J,Q]),(0,l.useEffect)(()=>{if(se){const e=e=>{s(s=>s.map(s=>s.jobId===e.jobId?{...s,status:"processing",progress:e.progress}:s))},r=e=>{re()},l=e=>{s(s=>s.map(s=>s.jobId===e.jobId?{...s,status:"failed"}:s))};return se.on("job:progress",e),se.on("job:complete",r),se.on("job:error",l),()=>{se.off("job:progress",e),se.off("job:complete",r),se.off("job:error",l)}}},[se]);const le=e=>{ee(`/summaries/${e}`)},te=e=>{switch(e){case"completed":return"success";case"processing":return"warning";case"failed":return"error";default:return"default"}};return(0,P.jsxs)(t.A,{children:[(0,P.jsxs)(t.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,P.jsxs)(t.A,{children:[(0,P.jsx)(a.A,{variant:"h4",gutterBottom:!0,fontWeight:"bold",children:"YouTube \uc694\uc57d \ud788\uc2a4\ud1a0\ub9ac"}),(0,P.jsx)(a.A,{variant:"body1",color:"text.secondary",children:"YouTube \ub3d9\uc601\uc0c1 \uc694\uc57d \uae30\ub85d\uc744 \ud655\uc778\ud558\uace0 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,P.jsx)(i.A,{variant:"contained",color:"error",startIcon:(0,P.jsx)(w.A,{}),onClick:()=>ee("/"),children:"\uc0c8 YouTube \uc694\uc57d"})]}),(0,P.jsxs)(n.A,{sx:{p:3},children:[(0,P.jsxs)(t.A,{sx:{display:"flex",gap:2,mb:3,flexWrap:"wrap"},children:[(0,P.jsx)(o.A,{placeholder:"Search summaries...",value:G,onChange:e=>N(e.target.value),size:"small",sx:{flex:1,minWidth:250},InputProps:{startAdornment:(0,P.jsx)(c.A,{position:"start",children:(0,P.jsx)(T.A,{})})}}),(0,P.jsxs)(d.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Status"}),(0,P.jsxs)(u.A,{value:Z,label:"Status",onChange:e=>q(e.target.value),children:[(0,P.jsx)(h.A,{value:"",children:"All"}),(0,P.jsx)(h.A,{value:"completed",children:"Completed"}),(0,P.jsx)(h.A,{value:"processing",children:"Processing"}),(0,P.jsx)(h.A,{value:"failed",children:"Failed"})]})]}),(0,P.jsxs)(d.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Provider"}),(0,P.jsxs)(u.A,{value:J,label:"Provider",onChange:e=>K(e.target.value),children:[(0,P.jsx)(h.A,{value:"",children:"All"}),(0,P.jsx)(h.A,{value:"gemini",children:"Gemini"}),(0,P.jsx)(h.A,{value:"openai",children:"OpenAI"})]})]}),(0,P.jsxs)(d.A,{size:"small",sx:{minWidth:120},children:[(0,P.jsx)(x.A,{children:"Source"}),(0,P.jsxs)(u.A,{value:Q,label:"Source",onChange:e=>X(e.target.value),children:[(0,P.jsx)(h.A,{value:"",children:"All"}),(0,P.jsx)(h.A,{value:"youtube",children:"YouTube"}),(0,P.jsx)(h.A,{value:"file",children:"File"}),(0,P.jsx)(h.A,{value:"url",children:"URL"})]})]}),(0,P.jsx)(A.A,{title:"Refresh",children:(0,P.jsx)(j.A,{onClick:re,children:(0,P.jsx)(W.A,{})})})]}),r?(0,P.jsx)(t.A,{sx:{display:"flex",justifyContent:"center",py:4},children:(0,P.jsx)(p.A,{})}):e.length>0?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(m.A,{children:(0,P.jsxs)(v.A,{children:[(0,P.jsx)(f.A,{children:(0,P.jsxs)(g.A,{children:[(0,P.jsx)(y.A,{children:"Title"}),(0,P.jsx)(y.A,{children:"Source"}),(0,P.jsx)(y.A,{children:"Provider"}),(0,P.jsx)(y.A,{children:"Status"}),(0,P.jsx)(y.A,{children:"Words"}),(0,P.jsx)(y.A,{children:"Created"}),(0,P.jsx)(y.A,{children:"Actions"})]})}),(0,P.jsx)(b.A,{children:e.map(e=>{return(0,P.jsxs)(g.A,{hover:!0,sx:{cursor:"pointer"},onClick:()=>le(e.id),children:[(0,P.jsx)(y.A,{children:(0,P.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(s=e.sourceType,"youtube"===s?(0,P.jsx)(w.A,{fontSize:"small",color:"error"}):"file"===s?(0,P.jsx)(k,{fontSize:"small"}):(0,P.jsx)(I.A,{fontSize:"small"})),(0,P.jsx)(a.A,{variant:"body2",noWrap:!0,sx:{maxWidth:300},children:e.title})]})}),(0,P.jsx)(y.A,{children:(0,P.jsx)(a.A,{variant:"caption",children:"file"===e.sourceType?e.fileName:"URL"})}),(0,P.jsx)(y.A,{children:(0,P.jsx)(S.A,{label:e.aiProvider,size:"small",variant:"outlined",color:"primary"})}),(0,P.jsx)(y.A,{children:"processing"===e.status?(0,P.jsxs)(t.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,P.jsx)(p.A,{size:16}),(0,P.jsxs)(a.A,{variant:"caption",children:[e.progress,"%"]})]}):(0,P.jsx)(S.A,{label:e.status,size:"small",color:te(e.status)})}),(0,P.jsx)(y.A,{children:e.wordCount||"-"}),(0,P.jsx)(y.A,{children:(0,P.jsx)(a.A,{variant:"caption",children:(0,D.A)(new Date(e.createdAt),"MMM d, yyyy")})}),(0,P.jsx)(y.A,{children:(0,P.jsxs)(t.A,{sx:{display:"flex",gap:1},children:[(0,P.jsx)(A.A,{title:"View",children:(0,P.jsx)(j.A,{size:"small",onClick:s=>{s.stopPropagation(),le(e.id)},children:(0,P.jsx)(L.A,{fontSize:"small"})})}),(0,P.jsx)(A.A,{title:"Download",children:(0,P.jsx)(j.A,{size:"small",onClick:e=>{e.stopPropagation(),H.Ay.info("Download feature coming soon!")},children:(0,P.jsx)(M.A,{fontSize:"small"})})}),(0,P.jsx)(A.A,{title:"Delete",children:(0,P.jsx)(j.A,{size:"small",onClick:s=>{s.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this summary?"))try{await _.Ay.delete(`/summaries/${e}`),H.Ay.success("Summary deleted successfully"),re()}catch(s){H.Ay.error("Failed to delete summary")}})(e.id)},children:(0,P.jsx)(F.A,{fontSize:"small"})})})]})})]},e.id);var s})})]})}),(0,P.jsx)(C.A,{rowsPerPageOptions:[5,10,25,50],component:"div",count:U,rowsPerPage:E,page:V,onPageChange:(e,s)=>{B(s)},onRowsPerPageChange:e=>{O(parseInt(e.target.value,10)),B(0)}})]}):(0,P.jsxs)(t.A,{sx:{textAlign:"center",py:8},children:[(0,P.jsx)(a.A,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"\uc694\uc57d \uae30\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,P.jsx)(a.A,{variant:"body2",color:"text.secondary",paragraph:!0,children:Z||J||Q?"\ud544\ud130\ub97c \uc870\uc815\ud574\ubcf4\uc138\uc694":"YouTube \ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc5ec \uccab \uc694\uc57d\uc744 \uc2dc\uc791\ud558\uc138\uc694"}),(0,P.jsx)(i.A,{variant:"contained",color:"error",startIcon:(0,P.jsx)(w.A,{}),onClick:()=>ee("/"),sx:{mt:2},children:"YouTube \uc694\uc57d \uc2dc\uc791"})]})]})]})}}}]);
//# sourceMappingURL=518.e430d7a1.chunk.js.map